query AuthTokenTest {
    tournament(id: 2018) {
        id
    }
}

query TournamentsByVideogames($perPage: Int, $pageNum: Int, $videogameIds: [ID], $featured: Boolean, $upcoming: Boolean, $countryCode: String, $addrState: String) {
    tournaments(query: {
        perPage: $perPage
        page: $pageNum
        sortBy: "startAt asc"
        filter: {
            upcoming: $upcoming
            videogameIds: $videogameIds
            isFeatured: $featured
            countryCode: $countryCode
            addrState: $addrState
        }
    }) {
        nodes {
            id
            name
            startAt
            endAt
            venueAddress
            isOnline
            images {
                url
                ratio
            }
        }
    }
}

query SearchForTournaments($search: String, $videogameIds: [ID], $featured: Boolean, $sortBy: String, $perPage: Int, $page: Int, $countryCode: String) {
    tournaments(query: {
        perPage: $perPage
        page: $page
        sortBy: $sortBy
        filter: {
            name: $search
            videogameIds: $videogameIds
            isFeatured: $featured
            countryCode: $countryCode
        }
    }) {
        nodes {
            id
            name
            startAt
            endAt
            venueAddress
            isOnline
            images {
                url
                ratio
            }
        }
    }
}

query TournamentBySlug($slug: String) {
    tournament(slug: $slug) {
        id
        name
        startAt
        endAt
        venueAddress
        isOnline
        images {
            url
            type
            ratio
        }
    }
}

query TournamentDetails($id: ID) {
    tournament(id: $id) {
        venueName
        lng
        lat
        events {
            id
            name
            state
            standings(query: {
                perPage: 1
            }) {
                nodes {
                    entrant {
                        name
                        participants {
                            gamerTag
                        }
                    }
                }
            }
            startAt
            type
            videogame {
                name
                images {
                    url
                    ratio
                }
            }
        }
        streams {
            streamName
            streamLogo
            streamSource
        }
        isRegistrationOpen
        registrationClosesAt
        primaryContact
        primaryContactType
        slug
        owner {
            id
            player {
                prefix
                gamerTag
            }
        }
    }
}

query Event($id: ID) {
    event(id: $id) {
        phases {
            id
            name
            state
            groupCount
            numSeeds
            bracketType
        }
        standings(query: {
            perPage: 65
        }) {
            nodes {
                placement
                entrant {
                    name
                    participants {
                        gamerTag
                    }
                }
            }
        }
    }
}

query EventStandings($id: ID, $page: Int) {
    event(id: $id) {
        standings(query: {
            page: $page
            perPage: 65
        }) {
            nodes {
                placement
                entrant {
                    name
                    participants {
                        gamerTag
                    }
                }
            }
        }
    }
}

query PhaseGroups($id: ID, $perPage: Int) {
    phase(id: $id) {
        phaseGroups(query: {
            perPage: $perPage
        }) {
            nodes {
                id
                displayIdentifier
                state
            }
        }
    }
}

query PhaseGroup($id: ID) {
    phaseGroup(id: $id) {
        bracketType
        progressionsOut{
            originPlacement
        }
        standings(query: {
            page: 1
            perPage: 65
        }) {
            nodes {
                placement
                entrant {
                    id
                    name
                    participants {
                        gamerTag
                    }
                }
            }
        }
        sets(page: 1, perPage: 90) {
            nodes {
                id
                state
                round
                identifier
                fullRoundText
                displayScore
                winnerId
                slots {
                    prereqId
                    entrant {
                        id
                        name
                        participants {
                            gamerTag
                        }
                    }
                }
            }
        }
    }
}

query PhaseGroupStandingsPage($id: ID, $page: Int) {
    phaseGroup(id: $id) {
        standings(query: {
            page: $page
            perPage: 65
        }) {
            nodes {
                placement
                entrant {
                    id
                    name
                    participants {
                        gamerTag
                    }
                }
            }
        }
    }
}

query PhaseGroupSetsPage($id: ID, $page: Int) {
    phaseGroup(id: $id) {
        sets(page: $page, perPage: 90) {
            nodes {
                id
                state
                round
                identifier
                fullRoundText
                displayScore
                winnerId
                slots {
                    prereqId
                    entrant {
                        id
                        name
                        participants {
                            gamerTag
                        }
                    }
                }
            }
        }
    }
}

query PhaseGroupSetGames($id: ID!) {
    set(id: $id) {
        games {
            winnerId
            stage {
                name
            }
        }
    }
}

query CurrentUser($perPage: Int) {
    currentUser {
        bio
        player {
            prefix
            gamerTag
        }
        images {
            type
            url
        }
        tournaments(query: {
            page: 1
            perPage: $perPage
        }) {
            nodes {
                id
                name
                startAt
                endAt
                venueAddress
                isOnline
                images {
                    url
                    type
                    ratio
                }
            }
        }
    }
}

query CurrentUserTournaments($page: Int, $perPage: Int) {
    currentUser {
        tournaments(query: {
            page: $page
            perPage: $perPage
        }) {
            nodes {
                id
                name
                startAt
                endAt
                venueAddress
                isOnline
                images {
                    url
                    type
                    ratio
                }
            }
        }
    }
}

query UserTournaments($id: ID, $page: Int, $perPage: Int) {
    user(id: $id) {
    name
        tournaments(query: {
            page: $page
            perPage: $perPage
            filter: {
                tournamentView: "organizing"
            }
        }) {
            nodes {
                id
                name
                startAt
                endAt
                venueAddress
                isOnline
                images {
                    url
                    type
                    ratio
                }
            }
        }
    }
}
